<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mdeni Family Enterprise - Intranet</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
        /* Global Styles */
        body {
            font-family: 'Open Sans', sans-serif;
            background-color: #E8F0FE; /* Light blue-grey background */
            color: #333;
            margin: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            padding-top: 80px; /* Fixed header height */
        }

        h1, h2, h3, h4, h5, h6, .font-display {
            font-family: 'Montserrat', sans-serif;
        }

        /* Header */
        header {
            background-color: #007BFF; /* Blue from salatiso.com */
            color: white;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            width: 100%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .header-container {
            max-width: 100%;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 30px;
            height: 80px;
        }
        .logo-container img {
            height: 50px;
            margin-right: 15px;
        }
        .logo-container .company-name {
            font-size: 1.8em;
            font-weight: 700;
        }
        .main-nav-links a {
            color: white;
            margin: 0 12px;
            font-size: 0.95em;
            font-weight: 500;
            text-decoration: none;
            padding: 8px 12px;
            border-radius: 6px;
            transition: background-color 0.3s, color 0.3s;
        }
        .main-nav-links a:hover, .main-nav-links a.active-main-nav {
            background-color: #FD7E14; /* Orange accent */
            color: white;
        }
        .user-actions {
            display: flex;
            align-items: center;
        }
        .user-actions .notification-bell, .user-actions .user-profile-menu > button {
            color: white;
            margin-left: 20px;
            font-size: 1.2em;
            cursor: pointer;
            position: relative; /* For notification badge */
        }
         .notification-badge {
            background-color: #FF3B30; /* iOS red for notifications */
            color: white;
            font-size: 0.65rem;
            font-weight: bold;
            padding: 2px 5px;
            border-radius: 50%;
            position: absolute;
            top: -5px;
            right: -8px;
        }
        .user-profile-menu img {
            width: 38px;
            height: 38px;
            border-radius: 50%;
            border: 2px solid white;
        }
        .dropdown-menu {
            display: none;
            position: absolute;
            right: 0;
            top: 50px; /* Adjust as needed */
            background-color: white;
            color: #333;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1001;
            width: 180px;
        }
        .dropdown-menu a {
            display: block;
            padding: 10px 15px;
            text-decoration: none;
            color: #333;
            font-size: 0.9em;
        }
        .dropdown-menu a:hover {
            background-color: #f0f0f0;
        }
        .user-profile-menu:hover .dropdown-menu {
            display: block;
        }


        /* Main Content Area */
        .main-content-wrapper {
            display: flex;
            flex-grow: 1;
        }

        /* Primary Content Display Area */
        .content-display-area {
            flex-grow: 1;
            padding: 25px;
            overflow-y: auto;
        }

        .content-section {
            background-color: #FFFFFF;
            padding: 25px 30px;
            border-radius: 10px; /* Softer radius */
            box-shadow: 0 5px 15px rgba(0,0,0,0.07); /* Softer shadow */
            margin-bottom: 30px;
            min-height: calc(100vh - 80px - 50px - 60px); /* Header, top/bottom padding, footer margin */
            display: none;
            opacity: 0;
            transition: opacity 0.4s ease-in-out;
        }
        .content-section.active {
            display: block;
            opacity: 1;
        }
        .content-section h2.section-title {
            font-size: 2.2em; /* Slightly larger */
            color: #0056b3;
            margin-bottom: 30px;
            padding-bottom: 12px;
            border-bottom: 3px solid #FD7E14; /* Thicker accent border */
        }

        /* Dashboard Specific */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); /* Slightly larger minmax */
            gap: 25px;
        }
        .dashboard-widget {
            background-color: #F8F9FA;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.06);
            border-left: 5px solid #007BFF; /* Accent border */
        }
        .dashboard-widget h3 {
            font-size: 1.4em;
            color: #007BFF;
            margin-bottom: 18px;
            display: flex;
            align-items: center;
        }
         .dashboard-widget h3 i { margin-right: 10px; }
        .dashboard-widget ul { list-style: none; padding: 0; }
        .dashboard-widget li { margin-bottom: 10px; font-size: 0.95em; display: flex; align-items: center; }
        .dashboard-widget li i { margin-right: 8px; color: #555; }
        .progress-bar-container {
            background-color: #E9ECEF;
            border-radius: 6px; /* Rounded progress bar */
            height: 12px; /* Thicker bar */
            margin-top: 6px;
            overflow: hidden; /* Ensure inner bar also rounded */
        }
        .progress-bar {
            background-color: #28A745;
            height: 100%;
            border-radius: 6px;
            transition: width 0.6s ease-in-out;
            text-align: right;
            padding-right: 5px;
            color: white;
            font-size: 0.7em;
            line-height: 12px;
        }
        .task-list input[type="checkbox"] { margin-right: 10px; accent-color: #007BFF; }
        .task-list label { font-size: 0.9em; }

        /* Organogram Styles */
        .organogram { text-align: center; padding: 20px 0; }
        .org-node {
            display: inline-block;
            padding: 12px 18px;
            border: 1px solid #007BFF;
            background-color: #E8F0FE;
            border-radius: 8px;
            margin: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            min-width: 180px; /* Ensure some width */
        }
        .org-node:hover { background-color: #D0E0F8; transform: translateY(-3px); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .org-node .name { font-weight: 600; color: #0056b3; }
        .org-node .role { font-size: 0.85em; color: #555; margin-top: 4px; }
        .org-level { margin-top: 20px; }
        .org-level .org-node { margin: 0 15px; } /* Horizontal spacing for same level */
        .org-connector { /* Basic connector idea, complex lines need SVG/Canvas */
            height: 20px;
            width: 1px;
            background-color: #ccc;
            margin: 0 auto;
        }

        /* Carousel Styles */
        .mfe-carousel-container { position: relative; width: 100%; overflow: hidden; background: #f0f4f8; border-radius: 8px; padding:20px; margin-top:20px; box-shadow: inset 0 0 10px rgba(0,0,0,0.05);}
        .mfe-carousel-track { display: flex; transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Smoother transition */ }
        .mfe-carousel-item { min-width: 100%; padding: 10px; box-sizing: border-box; }
        .mfe-carousel-item .card-content {
            background:white; padding:25px; border-radius:8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.08);
            min-height: 200px; /* Increased height */
            display: flex; flex-direction: column; justify-content: space-between;
        }
        .mfe-carousel-item .card-content img { border: 3px solid #007BFF; }
        .mfe-carousel-button {
            position: absolute; top: 50%; transform: translateY(-50%);
            background-color: #007BFF; color: white; opacity: 0.8;
            border: none; width: 40px; height: 40px; border-radius: 50%;
            cursor: pointer; z-index:10; transition: opacity 0.3s;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.2em;
        }
        .mfe-carousel-button:hover { opacity: 1; }
        .mfe-carousel-button.prev-btn { left: 20px; }
        .mfe-carousel-button.next-btn { right: 20px; }
        .carousel-dots { text-align: center; margin-top: 15px; }
        .carousel-dot { display: inline-block; width:12px; height:12px; background:#ccc; border-radius:50%; margin: 0 6px; cursor:pointer; transition: background-color 0.3s; }
        .carousel-dot.active { background: #007BFF; }

        /* Modal Styles */
        .modal {
            display: none; position: fixed; inset: 0;
            background-color: rgba(0,0,0,0.65); /* Darker overlay */
            display: flex; justify-content: center; align-items: center;
            padding: 20px; z-index: 1001;
            opacity: 0; pointer-events: none; transition: opacity 0.3s ease-in-out;
        }
        .modal.active { opacity: 1; pointer-events: auto; display:flex; }
        .modal-content {
            background-color: white; padding: 30px 35px; border-radius: 10px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            max-width: 800px; width: 100%; /* Wider modal */
            max-height: 90vh; overflow-y: auto;
            position: relative;
        }
        .modal-content h3.modal-title { color: #007BFF; margin-bottom:10px; font-size:1.8em; border-bottom: 2px solid #FD7E14; padding-bottom: 10px;}
        .modal-content .role-subtitle { font-size: 1.1em; color: #555; margin-bottom: 20px; }
        .close-modal-btn {
            position: absolute; top: 18px; right: 25px;
            font-size: 2em; color: #aaa;
            background:none; border:none; cursor:pointer; line-height: 1;
        }
        .close-modal-btn:hover { color: #333; }
        .modal-section h4 { font-size: 1.25em; color: #0056b3; margin-top: 25px; margin-bottom: 10px; }

        /* Action Plan Table */
        .action-plan-table { width: 100%; border-collapse: collapse; margin-top: 15px; font-size: 0.9em; }
        .action-plan-table th, .action-plan-table td { border: 1px solid #DEE2E6; padding: 10px 12px; text-align: left; vertical-align: middle;}
        .action-plan-table th { background-color: #E8F0FE; color: #0056b3; font-weight: 600; }
        .action-plan-table input, .action-plan-table select, .action-plan-table textarea {
            width: 100%; padding: 8px; border: 1px solid #CED4DA; border-radius: 4px; box-sizing: border-box; font-size:0.95em;
        }
        .action-plan-table textarea { min-height: 40px; }
        .action-plan-table .status-select { padding: 8px 6px; } /* Adjust select padding */
        .status-completed { background-color: #D4EDDA !important; color: #155724; }
        .status-in-progress { background-color: #FFF3CD !important; color: #856404; }
        .status-not-started { background-color: #F8D7DA !important; color: #721C24; }
        .action-btn {
            background-color: #28A745; color:white; font-size:0.8em;
            padding: 6px 10px; border-radius:4px; border:none; cursor:pointer;
        }
        .action-btn:hover { background-color: #218838; }

        /* Ventures & Documents Section Cards */
        .resource-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
        .resource-card {
            background-color: #fff; border-radius: 8px; padding: 20px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.07);
            border-left: 4px solid #FD7E14;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .resource-card:hover { transform: translateY(-5px); box-shadow: 0 6px 12px rgba(0,0,0,0.1); }
        .resource-card h4 { font-size: 1.2em; color: #007BFF; margin-bottom: 10px; }
        .resource-card p { font-size: 0.9em; color: #555; margin-bottom: 15px; }
        .resource-card a.learn-more-btn {
            display: inline-block; background-color: #007BFF; color: white;
            padding: 8px 15px; border-radius: 5px; text-decoration: none; font-size: 0.85em;
        }
        .resource-card a.learn-more-btn:hover { background-color: #0056b3; }


        /* Footer */
        footer {
            background-color: #343A40;
            color: #F8F9FA;
            padding: 25px 0;
            text-align: center;
            font-size: 0.9em;
            margin-top: auto;
        }
        footer a { color: #00A2FF; text-decoration: none; }
        footer a:hover { text-decoration: underline; }

    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo-container flex items-center">
                <img src="salatiso/assets/photos/mfe_logo_placeholder.png" alt="Mdeni Family Enterprise Logo">
                <span class="company-name text-white">Mdeni Family Intranet</span>
            </div>
            <nav class="main-nav-links">
                <a href="#" class="active-main-nav" data-target="dashboard">Dashboard</a>
                <a href="#" data-target="team">Our Team</a>
                <a href="#" data-target="ventures">Ventures</a>
                <a href="#" data-target="trainingHub">Training Hub</a>
                <a href="#" data-target="documents">Documents</a>
            </nav>
            <div class="user-actions">
                <div class="notification-bell">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge">3</span>
                </div>
                <div class="user-profile-menu ml-5 relative">
                     <button>
                        <img src="salatiso/assets/photos/team/profile_salatiso_thumb.jpg" alt="User Profile">
                    </button>
                    <div class="dropdown-menu">
                        <a href="#">My Profile</a>
                        <a href="#">Settings</a>
                        <a href="#">Logout</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="main-content-wrapper">
        <main class="content-display-area w-full">
            <section id="dashboard" class="content-section active">
                <h2 class="section-title">Family Enterprise Dashboard</h2>
                <div class="dashboard-grid">
                    <div class="dashboard-widget">
                        <h3><i class="fas fa-tasks"></i>Overall Training Progress</h3>
                        <div id="trainingProgressWidget">
                            </div>
                    </div>
                    <div class="dashboard-widget">
                        <h3><i class="fas fa-flag-checkered"></i>Key Project Milestones (Next 30 Days)</h3>
                        <ul>
                            <li><i class="fas fa-file-signature text-blue-500"></i>Company Registration Finalized - <span class="text-gray-500 text-xs font-semibold">Visa</span></li>
                            <li><i class="fas fa-bullhorn text-orange-500"></i>Initial Marketing Plan Draft V1 - <span class="text-gray-500 text-xs font-semibold">Tina</span></li>
                            <li><i class="fas fa-book-open text-green-500"></i>Sazi Life Curriculum Framework V1 Due - <span class="text-gray-500 text-xs font-semibold">Kwakho</span></li>
                            <li><i class="fas fa-code text-purple-500"></i>Intranet V1.1 Enhancements - <span class="text-gray-500 text-xs font-semibold">Solonwabo</span></li>
                        </ul>
                    </div>
                    <div class="dashboard-widget">
                        <h3><i class="fas fa-user-clock"></i>My Pending Actions (Salatiso)</h3>
                        <ul class="task-list">
                            <li><input type="checkbox" id="task1_salatiso" class="mr-2"><label for="task1_salatiso">Review Trust Deed Drafts (High)</label></li>
                            <li><input type="checkbox" id="task2_salatiso" class="mr-2" checked><label for="task2_salatiso" class="line-through text-gray-400">Mentor Solo on Intranet V1 Styling</label></li>
                            <li><input type="checkbox" id="task3_salatiso" class="mr-2"><label for="task3_salatiso">Approve Initial Operating Budget (Medium)</label></li>
                            <li><input type="checkbox" id="task4_salatiso" class="mr-2"><label for="task4_salatiso">Schedule Q3 Family Council Meeting</label></li>
                        </ul>
                        <button class="mt-4 text-sm bg-blue-500 hover:bg-blue-600 text-white py-1.5 px-4 rounded-md">View All My Tasks</button>
                    </div>
                     <div class="dashboard-widget">
                        <h3><i class="fas fa-chart-pie"></i>Quick Stats</h3>
                        <p class="text-lg">Active Ventures: <span class="font-bold text-2xl text-blue-600">5</span></p>
                        <p class="text-lg">Team Members: <span class="font-bold text-2xl text-blue-600">6</span></p>
                        <p class="text-lg">Next Council Meeting: <span class="font-bold text-blue-600">June 10, 2025</span></p>
                        <p class="text-lg">Total Training Modules: <span class="font-bold text-2xl text-blue-600">25</span></p>
                    </div>
                </div>

                <div class="mt-10">
                    <h3 class="text-xl font-semibold text-gray-700 mb-4"><i class="fas fa-stream"></i>Recent Activity Feed (Conceptual)</h3>
                    <div class="bg-gray-50 p-5 rounded-lg max-h-64 overflow-y-auto text-sm space-y-2 border">
                        <p><span class="font-semibold text-green-600">COMPLETED:</span> Visa M. submitted CIPC company registration. (1h ago)</p>
                        <p><span class="font-semibold text-blue-600">UPDATED:</span> Tina M. added 'Brand Voice Guide' to Marketing Content Calendar. (3h ago)</p>
                        <p><span class="font-semibold text-orange-600">ASSIGNED:</span> Salatiso M. to review Phase 2 budget by EOD May 23rd. (Yesterday)</p>
                        <p><span class="font-semibold text-purple-600">COMMENT:</span> Kwakho M. on Sazi Life Curriculum: "Need input on Grade 2 isiXhosa module." (Yesterday)</p>
                        <p><span class="font-semibold text-green-600">COMPLETED:</span> Solonwabo M. pushed Intranet styling updates to dev branch. (2 days ago)</p>
                    </div>
                </div>
            </section>

            <section id="team" class="content-section">
                <h2 class="section-title">Our Family Team & Structure</h2>
                <div class="organogram mb-10">
                    <div class="org-level">
                        <div class="org-node" data-member="nozukile_org">
                            <div class="name">Nozukile Mdeni</div> <div class="role">Chairperson, Family Council</div>
                        </div>
                    </div>
                    <div class="org-connector"></div>
                    <div class="org-level">
                        <div class="org-node" data-member="salatiso_org">
                           <div class="name">Salatiso L. Mdeni</div> <div class="role">CSOO</div>
                        </div>
                        <div class="org-node" data-member="visa_org">
                            <div class="name">Visa Mdeni</div> <div class="role">CEO</div>
                        </div>
                    </div>
                    <div class="org-level"> <div class="org-node ml-10" data-member="solonwabo_org"> <div class="name">Solonwabo M. Mdeni</div> <div class="role">Jr. Product Designer</div>
                        </div>
                    </div>
                     <div class="org-level"> <div class="org-node ml-10" data-member="tina_org">
                            <div class="name">Tina Mdeni</div> <div class="role">Head of Marketing</div>
                        </div>
                        <div class="org-node" data-member="kwakho_org">
                            <div class="name">Kwakho Mdeni</div> <div class="role">Head of Ops & Curriculum</div>
                        </div>
                    </div>
                </div>
                <p class="text-center text-sm text-gray-600 mb-8">Click on a team member in the organogram or the carousel below for detailed profiles, training plans, and performance metrics.</p>

                <div class="mfe-carousel-container">
                    <div class="mfe-carousel-track">
                        <div class="mfe-carousel-item">
                            <div class="card-content">
                                <img src="salatiso/assets/photos/team/salatiso_profile_carousel.jpg" alt="Salatiso Mdeni" class="w-24 h-24 rounded-full mx-auto mb-4 border-4">
                                <h4 class="text-xl font-semibold text-blue-700 text-center">Salatiso L. Mdeni</h4>
                                <p class="text-gray-500 text-sm text-center mb-3">Chief Strategic & Operations Officer</p>
                                <p class="text-gray-600 text-xs mb-4 flex-grow text-center">The visionary architect, ensuring operational excellence and guiding our legacy.</p>
                                <button class="mt-auto w-full bg-blue-500 text-white py-2.5 px-4 rounded-md hover:bg-blue-600 transition-colors text-sm font-medium view-member-details-btn" data-member="salatiso">View Details & Plan</button>
                            </div>
                        </div>
                        <div class="mfe-carousel-item">
                             <div class="card-content">
                                <img src="salatiso/assets/photos/team/visa_profile_carousel.jpg" alt="Visa Mdeni" class="w-24 h-24 rounded-full mx-auto mb-4 border-4">
                                <h4 class="text-xl font-semibold text-blue-700 text-center">Visa Mdeni</h4>
                                <p class="text-gray-500 text-sm text-center mb-3">Chief Executive Officer</p>
                                <p class="text-gray-600 text-xs mb-4 flex-grow text-center">Leading growth and company direction. Product Champion for SafetyHelp.</p>
                                <button class="mt-auto w-full bg-blue-500 text-white py-2.5 px-4 rounded-md hover:bg-blue-600 transition-colors text-sm font-medium view-member-details-btn" data-member="visa">View Details & Plan</button>
                            </div>
                        </div>
                        <div class="mfe-carousel-item">
                             <div class="card-content">
                                <img src="salatiso/assets/photos/team/tina_profile_carousel.jpg" alt="Tina Mdeni" class="w-24 h-24 rounded-full mx-auto mb-4 border-4">
                                <h4 class="text-xl font-semibold text-blue-700 text-center">Tina Mdeni</h4>
                                <p class="text-gray-500 text-sm text-center mb-3">Head of Marketing & Comm.</p>
                                <p class="text-gray-600 text-xs mb-4 flex-grow text-center">Crafting our story and connecting with the world through engaging marketing.</p>
                                <button class="mt-auto w-full bg-blue-500 text-white py-2.5 px-4 rounded-md hover:bg-blue-600 transition-colors text-sm font-medium view-member-details-btn" data-member="tina">View Details & Plan</button>
                            </div>
                        </div>
                        <div class="mfe-carousel-item">
                             <div class="card-content">
                                <img src="salatiso/assets/photos/team/kwakho_profile_carousel.jpg" alt="Kwakho Mdeni" class="w-24 h-24 rounded-full mx-auto mb-4 border-4">
                                <h4 class="text-xl font-semibold text-blue-700 text-center">Kwakho Mdeni</h4>
                                <p class="text-gray-500 text-sm text-center mb-3">Head of Ops & Curriculum</p>
                                <p class="text-gray-600 text-xs mb-4 flex-grow text-center">Ensuring smooth operations and developing impactful learning for Sazi Life.</p>
                                <button class="mt-auto w-full bg-blue-500 text-white py-2.5 px-4 rounded-md hover:bg-blue-600 transition-colors text-sm font-medium view-member-details-btn" data-member="kwakho">View Details & Plan</button>
                            </div>
                        </div>
                        <div class="mfe-carousel-item">
                             <div class="card-content">
                                <img src="salatiso/assets/photos/team/nozukile_profile_carousel.jpg" alt="Nozukile Mdeni" class="w-24 h-24 rounded-full mx-auto mb-4 border-4">
                                <h4 class="text-xl font-semibold text-blue-700 text-center">Nozukile Mdeni</h4>
                                <p class="text-gray-500 text-sm text-center mb-3">Chairperson, Family Council</p>
                                <p class="text-gray-600 text-xs mb-4 flex-grow text-center">Our respected matriarch, guiding us with wisdom and upholding family values.</p>
                                <button class="mt-auto w-full bg-blue-500 text-white py-2.5 px-4 rounded-md hover:bg-blue-600 transition-colors text-sm font-medium view-member-details-btn" data-member="nozukile">View Details & Plan</button>
                            </div>
                        </div>
                        <div class="mfe-carousel-item">
                             <div class="card-content">
                                <img src="salatiso/assets/photos/team/solonwabo_profile_carousel.jpg" alt="Solonwabo Mdeni" class="w-24 h-24 rounded-full mx-auto mb-4 border-4">
                                <h4 class="text-xl font-semibold text-blue-700 text-center">Solonwabo M. Mdeni</h4>
                                <p class="text-gray-500 text-sm text-center mb-3">Jr. Product Designer & Tech Apprentice</p>
                                <p class="text-gray-600 text-xs mb-4 flex-grow text-center">Innovating with technology and bringing fresh perspectives to our digital ventures.</p>
                                <button class="mt-auto w-full bg-blue-500 text-white py-2.5 px-4 rounded-md hover:bg-blue-600 transition-colors text-sm font-medium view-member-details-btn" data-member="solonwabo">View Details & Plan</button>
                            </div>
                        </div>
                    </div>
                    <button class="mfe-carousel-button prev-btn"><i class="fas fa-chevron-left"></i></button>
                    <button class="mfe-carousel-button next-btn"><i class="fas fa-chevron-right"></i></button>
                    <div class="carousel-dots mt-4"></div>
                </div>
            </section>

            <section id="ventures" class="content-section">
                <h2 class="section-title">Our Family Ventures</h2>
                <div class="resource-grid">
                    <div class="resource-card">
                        <img src="salatiso/assets/photos/ventures/safetyhelp_logo.png" alt="SafetyHelp Logo" class="h-16 mb-3 mx-auto">
                        <h4>SafetyHelp OHS Platform</h4>
                        <p>AI-enhanced tools for OHS compliance, risk assessments, and safety management. Led by Visa Mdeni.</p>
                        <a href="#" class="learn-more-btn">Explore SafetyHelp Details</a>
                    </div>
                    <div class="resource-card">
                         <img src="salatiso/assets/photos/ventures/sazilife_logo.png" alt="Sazi Life Logo" class="h-16 mb-3 mx-auto">
                        <h4>Sazi Life Education</h4>
                        <p>Personalized learning resources and homeschooling support, fostering lifelong learning. Led by Kwakho Mdeni.</p>
                        <a href="#" class="learn-more-btn">Discover Sazi Life</a>
                    </div>
                    <div class="resource-card">
                        <img src="salatiso/assets/photos/ventures/consulting_icon.png" alt="Consulting Icon" class="h-16 mb-3 mx-auto">
                        <h4>Salatiso Mdeni Ventures</h4>
                        <p>Expert OHS, Risk Management, Compliance, and Business Continuity consulting services.</p>
                        <a href="#" class="learn-more-btn">Consulting Services</a>
                    </div>
                    <div class="resource-card">
                        <img src="salatiso/assets/photos/ventures/digital_icon.png" alt="Digital Icon" class="h-16 mb-3 mx-auto">
                        <h4>Digital Creations & Publishing</h4>
                        <p>Website design, e-learning content, and book publishing services. Showcasing our family's creative and tech skills.</p>
                        <a href="#" class="learn-more-btn">Our Digital Portfolio</a>
                    </div>
                    <div class="resource-card">
                        <img src="salatiso/assets/photos/ventures/property_icon.png" alt="Property Icon" class="h-16 mb-3 mx-auto">
                        <h4>Property Management</h4>
                        <p>Management of family rental properties and Airbnb units, ensuring optimal returns and guest satisfaction.</p>
                        <a href="#" class="learn-more-btn">View Properties</a>
                    </div>
                    <div class="resource-card">
                        <img src="salatiso/assets/photos/ventures/flamea_logo_icon.png" alt="Flamea Icon" class="h-16 mb-3 mx-auto">
                        <h4>Flamea (Non-Profit Arm)</h4>
                        <p>Promoting equality through education, fathers' & family rights advocacy, and community upliftment.</p>
                        <a href="https://flamea.org/" target="_blank" class="learn-more-btn">Visit Flamea.org</a>
                    </div>
                </div>
            </section>

            <section id="trainingHub" class="content-section">
                <h2 class="section-title">Training & Development Hub</h2>
                <p class="mb-6 text-gray-700">Welcome to the central hub for all Mdeni Family Enterprise training and development. Here you can find links to individual training plans, shared resources, and upcoming workshop schedules. Our goal is to empower every family member with the skills and knowledge to excel in their roles and contribute to our collective success.</p>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="dashboard-widget">
                        <h3><i class="fas fa-user-graduate"></i>My Training Plan</h3>
                        <p class="text-sm mb-3">Access your personalized training action plan, update your progress, and find relevant resources.</p>
                        <button class="bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded text-sm" onclick="openMyTrainingPlan()">Go to My Plan</button>
                        </div>
                    <div class="dashboard-widget">
                        <h3><i class="fas fa-chalkboard-teacher"></i>Master Training Overview</h3>
                        <p class="text-sm mb-3">View the aggregated training progress for the entire team and identify upcoming group sessions.</p>
                        <a href="#" class="learn-more-btn">View Master Plan</a>
                    </div>
                    <div class="dashboard-widget">
                        <h3><i class="fas fa-book"></i>Shared Learning Resources</h3>
                        <ul class="text-sm space-y-1">
                            <li><a href="#" class="text-blue-600 hover:underline">MFE Onboarding Guide V1.pdf</a></li>
                            <li><a href="#" class="text-blue-600 hover:underline">Link to Free Digital Marketing Courses</a></li>
                            <li><a href="#" class="text-blue-600 hover:underline">OHS Act Summary Document</a></li>
                            <li><a href="#" class="text-blue-600 hover:underline">Guide to Using Asana/Trello for PM</a></li>
                        </ul>
                    </div>
                    <div class="dashboard-widget">
                        <h3><i class="fas fa-calendar-alt"></i>Upcoming Workshops</h3>
                        <p class="text-sm"><strong>June 15:</strong> Introduction to Financial Literacy for Small Business (All invited)</p>
                        <p class="text-sm mt-1"><strong>July 5:</strong> Advanced Canva Techniques for Marketing (Tina, Solo)</p>
                    </div>
                </div>
            </section>

            <section id="documents" class="content-section">
                <h2 class="section-title">Company Documents & Resources</h2>
                <p class="mb-6 text-gray-700">This is the central repository for all official Mdeni Family Enterprise documents. Please ensure you are familiar with relevant policies and procedures.</p>
                 <div class="resource-grid">
                    <div class="resource-card">
                        <h4><i class="fas fa-file-alt mr-2"></i>Foundational Documents</h4>
                        <ul class="list-disc pl-5 text-sm mt-2 space-y-1">
                            <li><a href="#" class="text-blue-600 hover:underline">Strategic Roadmap & Foundational Plan v3.0.pdf</a></li>
                            <li><a href="#" class="text-blue-600 hover:underline">Company Registration Certificate (CoR 14.3).pdf</a></li>
                            <li><a href="#" class="text-blue-600 hover:underline">Draft Trust Deed - Sazi Mdeni Family Trust.docx</a></li>
                            <li><a href="#" class="text-blue-600 hover:underline">Flamea NPO Registration Application.pdf</a></li>
                        </ul>
                    </div>
                     <div class="resource-card">
                        <h4><i class="fas fa-briefcase mr-2"></i>Operational Documents</h4>
                        <ul class="list-disc pl-5 text-sm mt-2 space-y-1">
                            <li><a href="#" class="text-blue-600 hover:underline">Q3 Operating Budget.xlsx</a></li>
                            <li><a href="#" class="text-blue-600 hover:underline">Service Agreement Template.docx</a></li>
                            <li><a href="#" class="text-blue-600 hover:underline">Marketing & Brand Guidelines V1.pdf</a></li>
                            <li><a href="#" class="text-blue-600 hover:underline">Supplier Vetting Checklist.pdf</a></li>
                        </ul>
                    </div>
                     <div class="resource-card">
                        <h4><i class="fas fa-users mr-2"></i>HR & Team Documents</h4>
                        <ul class="list-disc pl-5 text-sm mt-2 space-y-1">
                            <li><a href="#" class="text-blue-600 hover:underline">Family Council Meeting Minutes (May 2025).pdf</a></li>
                            <li><a href="#" class="text-blue-600 hover:underline">Performance Review Template.docx</a></li>
                            <li><a href="#" class="text-blue-600 hover:underline">Work From Home Policy Guide.pdf</a></li>
                        </ul>
                    </div>
                 </div>
            </section>
        </main>
    </div>

    <footer>
        <div class="container mx-auto px-6">
            <p>&copy; 2025 Mdeni Family Enterprise (Pty) Ltd. All Rights Reserved.</p>
            <p>Internal Portal - Confidential. Built with <i class="fas fa-heart text-red-500"></i> by the Mdeni Family, for the Mdeni Family.</p>
        </div>
    </footer>

    <div id="memberDetailsModal" class="modal">
        <div class="modal-content">
            <button class="close-modal-btn">&times;</button>
            <div id="modalBodyContent">
                </div>
        </div>
    </div>

    <script>
        // Main Navigation Logic
        const mainNavLinks = document.querySelectorAll('.main-nav-links a');
        const contentSections = document.querySelectorAll('.content-display-area .content-section');
        const memberDetailModal = document.getElementById('memberDetailsModal');
        const modalBody = document.getElementById('modalBodyContent');
        const closeModalButtons = memberDetailModal.querySelectorAll('.close-modal-btn');

        function showMainSection(targetId) {
            contentSections.forEach(section => section.classList.remove('active'));
            mainNavLinks.forEach(link => {
                link.classList.remove('active-main-nav');
                if (link.dataset.target === targetId) {
                    link.classList.add('active-main-nav');
                }
            });
            const targetSection = document.getElementById(targetId);
            if (targetSection) {
                // Scroll to top of content area before showing new section
                document.querySelector('.content-display-area').scrollTop = 0;
                targetSection.classList.add('active');
            }
        }

        mainNavLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                showMainSection(link.dataset.target);
            });
        });

        // MFE Carousel Logic (Team Section)
        function setupCarousel(carouselElement) {
            const track = carouselElement.querySelector('.mfe-carousel-track');
            if (!track) return; // Exit if track not found
            const items = Array.from(track.children);
            const nextButton = carouselElement.querySelector('.next-btn');
            const prevButton = carouselElement.querySelector('.prev-btn');
            const dotsContainer = carouselElement.querySelector('.carousel-dots');
            
            if (items.length === 0) return;

            let itemWidth = items[0].getBoundingClientRect().width;
            let currentIndex = 0;
            const itemsPerView = 1; // For "no scroll" feel within carousel view

            // Create dots
            if (dotsContainer) {
                dotsContainer.innerHTML = ''; // Clear existing dots
                items.forEach((_, i) => {
                    const dot = document.createElement('button');
                    dot.classList.add('carousel-dot');
                    dot.addEventListener('click', () => {
                        currentIndex = i;
                        updateCarousel();
                    });
                    dotsContainer.appendChild(dot);
                });
            }
            
            function updateActiveDot() {
                if (dotsContainer) {
                    Array.from(dotsContainer.children).forEach((dot, i) => {
                        dot.classList.toggle('active', i === currentIndex);
                    });
                }
            }

            function updateCarousel() {
                itemWidth = items[0].getBoundingClientRect().width / itemsPerView;
                track.style.transform = `translateX(-${currentIndex * itemWidth * itemsPerView}px)`;
                updateActiveDot();
            }

            if (nextButton) {
                nextButton.addEventListener('click', () => {
                    currentIndex = (currentIndex + 1) % items.length;
                    updateCarousel();
                });
            }
            if (prevButton) {
                prevButton.addEventListener('click', () => {
                    currentIndex = (currentIndex - 1 + items.length) % items.length;
                    updateCarousel();
                });
            }
            
            let autoSlideInterval = setInterval(() => {
                if (nextButton) nextButton.click();
            }, 7000);

            carouselElement.addEventListener('mouseenter', () => clearInterval(autoSlideInterval));
            carouselElement.addEventListener('mouseleave', () => {
                 clearInterval(autoSlideInterval);
                 autoSlideInterval = setInterval(() => {
                    if (nextButton) nextButton.click();
                }, 7000);
            });

            window.addEventListener('resize', updateCarousel);
            updateCarousel(); // Initial setup
        }

        // Setup for the team carousel specifically
        const teamCarouselElement = document.querySelector('#team .mfe-carousel-container');
        if (teamCarouselElement) {
            setupCarousel(teamCarouselElement);
        }


        // Team Member Data (Fully Populated)
        const teamMemberData = {
            salatiso: {
                name: "Salatiso L. Mdeni", role: "Chief Strategic & Operations Officer (CSOO)",
                profileImage: "salatiso/assets/photos/team/salatiso_profile_large.jpg",
                profile: `A highly experienced OHS and Risk Management expert with over 20 years in diverse sectors. A proven entrepreneur (SafetyHelp, Sazi, Flamea), published author, and dedicated father. Salatiso brings deep industry knowledge, a strategic mindset, technological acumen, and a passion for self-sufficiency and education. His resilience, shaped by his Xhosa upbringing in Transkei and commitment to lifelong learning, makes him the foundational pillar for the company's operational integrity and innovation. He is the "business behind the business," ensuring robust systems and nurturing growth. His guiding principle: "I am a father to my son; all else is a means to this end," extending this to his role as an Umlandeli.`,
                responsibilities: [
                    "Overall operational excellence and strategic direction",
                    "Product development and innovation across all ventures",
                    "Risk management, compliance, and legal/administrative oversight",
                    "Mentoring family members and the next generation",
                    "Incubating new ventures and ensuring alignment with family values"
                ],
                trainingPlan: [
                    { task: "Mentor Team Leads (Visa, Tina, Kwakho, Solo)", month: "Ongoing", week: "Weekly Check-ins", cost: 0, status: "in-progress", deliverable: "Mentorship Logs/Feedback" },
                    { task: "Advanced Course: AI in Business Strategy & Automation", month: 4, week: "Self-paced", cost: 5000, status: "not-started", deliverable: "Course Certificate & Implementation Plan" },
                    { task: "Workshop: Intergenerational Wealth & Trust Management", month: 6, week: "2-day Workshop", cost: 3500, status: "not-started", deliverable: "Workshop Certificate & Notes" },
                    { task: "Research: Emerging Technologies for OHS & EdTech", month: "Ongoing", week: "5 hrs/week", cost: 0, status: "in-progress", deliverable: "Quarterly Tech Brief" }
                ],
                performanceKPIs: ["Strategic Goal Achievement Rate", "Successful New Product/Service Launches", "Team Skill Development & Performance", "Operational Efficiency Gains", "Profitability of Ventures"]
            },
            visa: {
                name: "Visa Mdeni", role: "Chief Executive Officer (CEO)",
                profileImage: "salatiso/assets/photos/team/visa_profile_large.jpg",
                profile: `A natural leader with strong interpersonal and communication skills, making her ideal for representing the Mdeni Family Enterprise. Visa possesses the drive and vision to steer the enterprise forward. Her commitment to the family and understanding of the founder's vision is crucial in building a cohesive and successful business. As CEO, she is the public face and responsible for overall company direction. Product Champion for SafetyHelp.`,
                responsibilities: [
                    "Leading company registration and initial setup",
                    "Overall company direction and strategic execution",
                    "Stakeholder management and business development",
                    "Brand ambassadorship and public relations",
                    "Overseeing performance of all operational divisions",
                    "Driving growth for SafetyHelp"
                ],
                trainingPlan: [
                    { task: "Finalize Company Name & CIPC Name Reservation", month: 1, week: 1, cost: 50, status: "not-started", deliverable: "Name Reservation Certificate" },
                    { task: "CIPC Company Registration (Pty) Ltd", month: 1, week: 2, cost: 125, status: "not-started", deliverable: "Company Registration Docs (CoR 14.3)" },
                    { task: "Research Business Bank Accounts & FICA", month: 1, week: 3, cost: 0, status: "not-started", deliverable: "Comparison sheet of 3 banks" },
                    { task: "Open Business Bank Account", month: 1, week: 4, cost: 100, status: "not-started", deliverable: "Account Open Confirmation" },
                    { task: "SARS eFiling Registration (Company Income Tax, Public Officer Appt.)", month: 2, week: "1-2", cost: 0, status: "not-started", deliverable: "SARS Registration Numbers" },
                    { task: "NPO Registration Process Research for Flamea", month: 2, week: "3-4", cost: 0, status: "not-started", deliverable: "Summary of NPO Reg. options & steps" },
                    { task: "Alison.com: Diploma in Business Management & Entrepreneurship (Module 1-2)", month: 3, week: "1-2", cost: 0, status: "not-started", deliverable: "Module 1 & 2 Completion Notes/Quiz Results" },
                    { task: "SafetyHelp Platform Deep Dive & Basic OHS Principles (with Salatiso)", month: 3, week: "3-4", cost: 0, status: "not-started", deliverable: "Presentation of SafetyHelp strategy to Salatiso" },
                    { task: "Coursera: Financial Acumen for Non-Financial Managers (Audit)", month: 4, week: "Self-paced", cost: 0, status: "not-started", deliverable: "Course Notes & Key Learnings Summary" }
                ],
                performanceKPIs: ["Successful Company & NPO Registration", "SafetyHelp User Growth & Revenue", "Positive Stakeholder Feedback", "Effective Team Leadership & Motivation", "Achievement of Q1/Q2 Financial Targets"]
            },
            tina: {
                name: "Tina Mdeni", role: "Head of Marketing & Communications",
                profileImage: "salatiso/assets/photos/team/tina_profile_large.jpg",
                profile: `Tina has a creative flair and a keen understanding of modern communication channels. She is adept at connecting with diverse audiences and can translate the company's offerings into compelling narratives. Her intuitive understanding of market trends and her passion for the family's success will drive brand visibility and customer engagement. She works from home, managing all promotional activities.`,
                responsibilities: [
                    "Developing and executing marketing strategies for all MFE ventures",
                    "Managing social media presence (content creation, scheduling, engagement)",
                    "Public relations and media outreach (as needed)",
                    "Brand promotion and storytelling",
                    "Analyzing marketing campaign performance"
                ],
                trainingPlan: [
                    { task: "Google Digital Garage: 'Fundamentals of Digital Marketing' (Modules 1-7)", month: 1, week: "1-2", cost: 0, status: "not-started", deliverable: "Notes on Modules 1-7" },
                    { task: "Canva Design School: Beginners Challenge & Social Media Mastery Course", month: 1, week: "3-4", cost: 0, status: "not-started", deliverable: "5 sample social media graphics for MFE ventures" },
                    { task: "HubSpot Academy: 'Social Media Marketing Course' (Modules 1-3)", month: 2, week: "1-2", cost: 0, status: "not-started", deliverable: "Notes on Modules 1-3" },
                    { task: "Develop Content Calendar Template & Draft 1 week of posts for SafetyHelp", month: 2, week: "3-4", cost: 0, status: "not-started", deliverable: "Draft Content Calendar (Google Sheets/Trello)" },
                    { task: "Moz: 'Beginner's Guide to SEO' (Chapters 1-3)", month: 3, week: "1-2", cost: 0, status: "not-started", deliverable: "Summary of key SEO concepts learned" },
                    { task: "Analyze social media of 3 competitors/similar family businesses", month: 3, week: "3-4", cost: 0, status: "not-started", deliverable: "Competitor analysis report (1-page summary)" },
                    { task: "Google Analytics Academy: Google Analytics for Beginners", month: 4, week: "Self-paced", cost: 0, status: "not-started", deliverable: "Course Certificate" }
                ],
                performanceKPIs: ["Growth in Social Media Followers & Engagement", "Website Traffic from Marketing Campaigns", "Quality & Consistency of Brand Messaging", "Completion of Marketing Training Milestones", "Positive Feedback on Marketing Materials"]
            },
            kwakho: {
                name: "Kwakho Mdeni", role: "Head of Operations Support & Curriculum Development",
                profileImage: "salatiso/assets/photos/team/kwakho_profile_large.jpg",
                profile: `Kwakho is meticulous, resourceful, and possesses excellent organizational skills. Her ability to manage multiple tasks efficiently and her knack for finding optimal solutions will be key to smooth operations. Her linguistic skills (including isiXhosa) and cultural sensitivity are assets for translations and curriculum development for Sazi Life. She works from home, supporting all ventures. Product Champion for Sazi Life.`,
                responsibilities: [
                    "Providing vital background operational support for all ventures",
                    "Multilingual translations (English to isiXhosa and vice-versa initially)",
                    "Sourcing suppliers and managing vendor relationships",
                    "Curriculum review, compilation, and development for Sazi Life",
                    "General administrative support and document management"
                ],
                trainingPlan: [
                    { task: "OER Commons & UNESCO: Explore 5 curriculum examples for primary education (focus on language & heritage)", month: 1, week: "1-2", cost: 0, status: "not-started", deliverable: "Notes on curriculum structures & culturally relevant content" },
                    { task: "Google Workspace Learning Center: Docs, Sheets, Drive & Slides Essentials Training", month: 1, week: "3-4", cost: 0, status: "not-started", deliverable: "Completion of relevant modules" },
                    { task: "Alison.com: Diploma in Educational Psychology (Select modules on child development & learning theories)", month: 2, week: "1-2", cost: 0, status: "not-started", deliverable: "Summary of 2 learning theories applicable to Sazi Life" },
                    { task: "Review existing Sazi Life materials & draft initial Sazi Life Curriculum Framework V1 (isiXhosa focus)", month: 2, week: "3-4", cost: 0, status: "not-started", deliverable: "Draft Sazi Life Curriculum Framework V1 Document" },
                    { task: "Asana or Trello: Basic Project Management Tutorials & Setup", month: 3, week: "1-2", cost: 0, status: "not-started", deliverable: "Setup a sample project board for Sazi Life curriculum development" },
                    { task: "Research 3 free translation tools; translate 1 page of MFE content (Eng to Xhosa) using best tool", month: 3, week: "3-4", cost: 0, status: "not-started", deliverable: "Translated page & tool comparison notes" },
                    { task: "Introduction to Supplier Negotiation (Online Article/Short Course)", month: 4, week: "Self-paced", cost: 0, status: "not-started", deliverable: "Notes on 3 negotiation tactics" }
                ],
                performanceKPIs: ["Quality & Timeliness of Sazi Life Curriculum Modules", "Accuracy & Efficiency of Translations", "Effectiveness of Admin Support", "Cost Savings from Supplier Sourcing (if applicable)", "Positive Feedback from Team on Ops Support"]
            },
            nozukile: {
                name: "Nozukile Mdeni", role: "Chairperson of the Family Council (Non-Executive Director - Advisory)",
                profileImage: "salatiso/assets/photos/team/nozukile_profile_large.jpg",
                profile: `As the matriarch, Nozukile embodies wisdom, stability, and a deep understanding of family dynamics and Xhosa traditions. Her life experience and commitment to her family's well-being make her the ideal guardian of the company's ethical foundation and cultural heritage. Her role is to ensure that as the business grows, its core purpose of family unity, legacy, and community upliftment remains paramount.`,
                responsibilities: [
                    "Providing high-level oversight and guidance at Family Council meetings",
                    "Ensuring the company operates in alignment with family values and ethics",
                    "Safeguarding the interests of all shareholders, particularly the trusts for grandchildren",
                    "Acting as a moral compass and mediator for family business matters",
                    "Championing the integration of Xhosa culture and heritage within the MFE"
                ],
                trainingPlan: [
                    { task: "Attend Quarterly Family Council Meetings", month: "Quarterly", week: "N/A", cost: 0, status: "ongoing", deliverable: "Active Participation" },
                    { task: "Review Key Strategic Documents prior to Council Meetings", month: "As needed", week: "N/A", cost: 0, status: "ongoing", deliverable: "Informed input during meetings" },
                    { task: "Short Course/Reading: Basics of Corporate Governance for Family Businesses (Optional)", month: 6, week: "Self-paced", cost: 0, status: "not-started", deliverable: "Personal Notes/Understanding" }
                ],
                performanceKPIs: ["Active and insightful participation in Family Council", "Upholding of Family Values within business decisions", "Positive influence on family harmony related to business", "Guidance on cultural integration initiatives"]
            },
            solonwabo: {
                name: "Solonwabo Milile Mdeni", role: "Junior Product Designer & Technical Apprentice",
                profileImage: "salatiso/assets/photos/team/solonwabo_profile_large.jpg",
                profile: `A talented and self-motivated young web developer with a clear aptitude for design and technology, as showcased on his personal site solonwabo.art. Solo is eager to learn and contribute, bringing fresh perspectives and modern technical approaches to the company's digital ventures, working under Salatiso's mentorship.`,
                responsibilities: [
                    "Assisting with backend product design for digital platforms",
                    "Website development and maintenance (including this Intranet)",
                    "Providing technical expertise and support for digital ventures",
                    "Learning and applying new technologies relevant to MFE projects",
                    "Collaborating with Salatiso on UI/UX improvements"
                ],
                trainingPlan: [
                    { task: "FreeCodeCamp: Responsive Web Design Certification (Complete 50%)", month: 1, week: "1-4", cost: 0, status: "in-progress", deliverable: "Link to FCC profile showing progress" },
                    { task: "FreeCodeCamp: Responsive Web Design Certification (Complete 100%)", month: 2, week: "1-4", cost: 0, status: "not-started", deliverable: "Certificate & Deployed Tribute Page project" },
                    { task: "GitHub Learning Lab: Introduction to GitHub & Basic Git Commands", month: 3, week: "1-2", cost: 0, status: "not-started", deliverable: "Created MFE Intranet repository on GitHub & pushed initial code" },
                    { task: "Figma Learn: 'Figma for Beginners' series (UI Design Fundamentals)", month: 3, week: "3-4", cost: 0, status: "not-started", deliverable: "3 simple UI mockups for an MFE Intranet feature (e.g., new widget)" },
                    { task: "MDN Web Docs: JavaScript Basics (Guided Learning Path)", month: 4, week: "Self-paced", cost: 0, status: "not-started", deliverable: "Completed 3 small JS exercises/projects" },
                    { task: "Develop a new interactive feature for MFE Intranet (e.g., dynamic document list)", month: 5, week: "Project", cost: 0, status: "not-started", deliverable: "Deployed feature on dev branch" }
                ],
                performanceKPIs: ["Completion of Technical Training Modules", "Quality of Code and Design Contributions", "Problem-Solving Ability in Technical Tasks", "Timeliness of Intranet Updates & Support", "Proactive Learning and Skill Application"]
            }
        };

        // Populate Dashboard Training Progress
        function populateTrainingProgress() {
            const widget = document.getElementById('trainingProgressWidget');
            if (!widget) return;
            widget.innerHTML = ''; // Clear previous
            Object.keys(teamMemberData).forEach(key => {
                const member = teamMemberData[key];
                if (member.trainingPlan && member.trainingPlan.length > 0) {
                    const completedTasks = member.trainingPlan.filter(t => t.status === 'completed').length;
                    const totalTasks = member.trainingPlan.length;
                    const progress = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
                    
                    const p = document.createElement('p');
                    p.innerHTML = `${member.name.split(' ')[0]} ${member.name.includes('.') ? member.name.split(' ')[1] : ''}: <span class="font-semibold">${progress}%</span>`;
                    widget.appendChild(p);
                    
                    const barContainer = document.createElement('div');
                    barContainer.className = 'progress-bar-container mb-2';
                    const bar = document.createElement('div');
                    bar.className = 'progress-bar';
                    bar.style.width = `${progress}%`;
                    // bar.textContent = `${progress}%`; // Optional: text inside bar
                    barContainer.appendChild(bar);
                    widget.appendChild(barContainer);
                }
            });
        }
        
        // Modal Population & Interaction Logic
        function populateModal(memberKey) {
            const member = teamMemberData[memberKey];
            if (!member) return;

            let profileImageHtml = member.profileImage ? `<img src="${member.profileImage}" alt="${member.name}" class="w-32 h-32 rounded-full mx-auto mb-6 border-4 border-blue-300 shadow-lg">` : `<div class="w-32 h-32 rounded-full mx-auto mb-6 bg-gray-300 flex items-center justify-center text-gray-500 text-4xl border-4 border-blue-300 shadow-lg">${member.name.split(' ').map(n=>n[0]).join('')}</div>`;

            let trainingPlanHtml = `<div class="modal-section"><h4 class="text-lg font-semibold mt-4 mb-3 text-blue-600"><i class="fas fa-clipboard-list mr-2"></i>Training Action Plan</h4>
                                    <div class="overflow-x-auto">
                                    <table class="action-plan-table">
                                        <thead><tr><th>Task</th><th>Month</th><th>Week Ref</th><th>Est. Cost (ZAR)</th><th>Deliverable</th><th>Status</th><th>Update</th></tr></thead><tbody>`;
            member.trainingPlan.forEach((item, index) => {
                trainingPlanHtml += `<tr>
                    <td><textarea rows="2" data-field="task" data-index="${index}">${item.task}</textarea></td>
                    <td><input type="text" value="${item.month}" data-field="month" data-index="${index}" class="text-sm"></td>
                    <td><input type="text" value="${item.week || 'N/A'}" data-field="week" data-index="${index}" class="text-sm"></td>
                    <td><input type="number" value="${item.cost}" data-field="cost" data-index="${index}" class="text-sm"></td>
                    <td><textarea rows="2" data-field="deliverable" data-index="${index}">${item.deliverable || 'N/A'}</textarea></td>
                    <td>
                        <select class="status-select text-sm ${item.status === 'completed' ? 'status-completed' : item.status === 'in-progress' ? 'status-in-progress' : 'status-not-started'}" data-field="status" data-index="${index}">
                            <option value="not-started" ${item.status === 'not-started' ? 'selected' : ''}>Not Started</option>
                            <option value="in-progress" ${item.status === 'in-progress' ? 'selected' : ''}>In Progress</option>
                            <option value="completed" ${item.status === 'completed' ? 'selected' : ''}>Completed</option>
                        </select>
                    </td>
                    <td><button class="action-btn save-training-item" data-member="${memberKey}" data-index="${index}"><i class="fas fa-save"></i> Save</button></td>
                </tr>`;
            });
            trainingPlanHtml += `</tbody></table></div></div>`;

            let kpiHtml = `<div class="modal-section"><h4 class="text-lg font-semibold mt-6 mb-3 text-blue-600"><i class="fas fa-chart-line mr-2"></i>Performance KPIs</h4><ul class="list-disc pl-6 text-sm space-y-1">`;
            member.performanceKPIs.forEach(kpi => kpiHtml += `<li>${kpi}</li>`);
            kpiHtml += `</ul></div>`;
            
            let responsibilitiesHtml = `<div class="modal-section"><h4 class="text-lg font-semibold text-blue-600"><i class="fas fa-user-tie mr-2"></i>Key Responsibilities:</h4><ul class="list-disc pl-6 text-sm space-y-1">${member.responsibilities.map(r => `<li>${r}</li>`).join('')}</ul></div>`;
            
            let profileHtml = `<div class="modal-section"><h4 class="text-lg font-semibold text-blue-600"><i class="fas fa-id-card mr-2"></i>Profile:</h4><p class="text-sm text-gray-700 leading-relaxed">${member.profile}</p></div>`;

            modalBody.innerHTML = `
                <h3 class="modal-title text-center">${member.name}</h3>
                <p class="role-subtitle text-center">${member.role}</p>
                ${profileImageHtml}
                ${responsibilitiesHtml}
                ${profileHtml}
                ${trainingPlanHtml}
                ${kpiHtml}
                <div class="mt-8 text-right border-t pt-4">
                    <button class="bg-orange-500 hover:bg-orange-600 text-white py-2 px-5 rounded-md text-sm font-medium"><i class="fas fa-comment-dots mr-2"></i>Request Feedback</button>
                </div>
            `;
            memberDetailModal.classList.add('active');

            // Add event listeners for status change and save for training plan updates
            modalBody.querySelectorAll('.status-select').forEach(selectEl => {
                selectEl.addEventListener('change', function() {
                    this.className = 'status-select text-sm'; // Reset classes
                    if (this.value === 'completed') this.classList.add('status-completed');
                    else if (this.value === 'in-progress') this.classList.add('status-in-progress');
                    else this.classList.add('status-not-started');
                });
            });
            
            modalBody.querySelectorAll('.save-training-item').forEach(button => {
                button.addEventListener('click', function() {
                    const memberKey = this.dataset.member;
                    const itemIndex = parseInt(this.dataset.index);
                    const row = this.closest('tr');
                    
                    // Update the teamMemberData object (in a real app, this would be an API call)
                    teamMemberData[memberKey].trainingPlan[itemIndex].task = row.querySelector('[data-field="task"]').value;
                    teamMemberData[memberKey].trainingPlan[itemIndex].month = row.querySelector('[data-field="month"]').value;
                    teamMemberData[memberKey].trainingPlan[itemIndex].week = row.querySelector('[data-field="week"]').value;
                    teamMemberData[memberKey].trainingPlan[itemIndex].cost = parseInt(row.querySelector('[data-field="cost"]').value) || 0;
                    teamMemberData[memberKey].trainingPlan[itemIndex].deliverable = row.querySelector('[data-field="deliverable"]').value;
                    teamMemberData[memberKey].trainingPlan[itemIndex].status = row.querySelector('[data-field="status"]').value;
                    
                    console.log(`Updated training item for ${memberKey}, index ${itemIndex}:`, teamMemberData[memberKey].trainingPlan[itemIndex]);
                    alert('Training item updated (conceptual save). Dashboard would refresh.');
                    populateTrainingProgress(); // Refresh dashboard widget
                });
            });
        }

        document.querySelectorAll('.view-member-details-btn').forEach(button => {
            button.addEventListener('click', () => populateModal(button.dataset.member));
        });
        document.querySelectorAll('.org-node').forEach(node => {
            node.addEventListener('click', () => {
                const memberKey = node.dataset.member.replace('_org', '');
                populateModal(memberKey);
            });
        });

        closeModalButtons.forEach(button => {
            button.addEventListener('click', () => memberDetailModal.classList.remove('active'));
        });
        memberDetailModal.addEventListener('click', (event) => {
            if (event.target === memberDetailModal) memberDetailModal.classList.remove('active');
        });

        // Initialize first section and dashboard widgets
        showMainSection('dashboard');
        populateTrainingProgress();


        // Conceptual: Action tracking and notification system
        const notificationBell = document.querySelector('.notification-bell');
        if(notificationBell) {
            notificationBell.addEventListener('click', () => {
                // This would ideally open a dropdown or a dedicated notifications panel
                alert("New Notifications (Conceptual):\n1. Salatiso assigned 'Review Q3 Budget' to Visa.\n2. Tina M. completed 'Brand Voice Guide'.\n3. Kwakho M. requests input on 'Sazi Life isiXhosa Module Grade 2'.");
                // Clear badge conceptually
                const badge = notificationBell.querySelector('.notification-badge');
                if(badge) badge.style.display = 'none';
            });
        }
        
        // Function to simulate opening current user's training plan modal (replace 'salatiso' with actual logged-in user logic)
        function openMyTrainingPlan() {
            populateModal('salatiso'); // Assuming Salatiso is the logged-in user for this example
        }

    </script>
</body>
</html>
